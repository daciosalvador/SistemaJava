package cliente.aplicacao;

import java.util.ArrayList;
import java.util.Date;
import java.util.List;

import dao.ClientesFDAO;
import dto.ClientesDTO;
import dto.ContaDTO;

public class ListarClientes {

	public static void main(String[] args) {

		ClientesFDAO clientesDAO = new ClientesFDAO();

		// Cria um contato e salva no banco
		ClientesDTO cliente = new ClientesDTO();
		cliente.setNome_cliente_F("Carlos Angelo");
		cliente.setCpf("104.345.432-23");
		cliente.setCelular("98876-45632");
		cliente.setEmail("carlosangelo@gmail.com");
		cliente.setEndereco("Av Boa Viagem");
		cliente.setNum_end("555");
		cliente.setBairro("Boa Viagem");
		cliente.setCidade("Recife");
		cliente.setEstado("Pernambuco");
		cliente.setData_cad_F(new Date());
		cliente.setCategoria("Pessoa Fisica");
		
		ContaDTO conta = new ContaDTO();
		 conta.setSaldo(4542.32);
		 conta.setTipoConta("Pessoa Fisica");
		 conta.setTaxa(0.75);
		 conta.setCPF(cliente.getCpf());
		 
		 List<ContaDTO> contasDTO = new ArrayList<ContaDTO>();
		 
		 contasDTO.add(conta);	
		 
		 cliente.setContacliente(contasDTO);

		try {
			clientesDAO.salvar(cliente);
			
		} catch (Exception e) {
			// TODO Auto-generated catch block
			e.printStackTrace();
		}

		ClientesDTO c = clientesDAO.getCliente("321.555.123-22");

		System.out.println("NOME: " + c.getNome_cliente_F());
		System.out.println("Cliente Desde: " + c.getData_cad_F());
		

		List<ContaDTO> contas = c.getContacliente();

		double saldo = 0;

		for (ContaDTO cc : contas) {
			
			System.out.println("nÂ° conta: " + cc.getId_conta());
			saldo = cc.getSaldo();
			System.out.println("Saldo: " + saldo);

		}

		
		System.out.println("------------------------------");
		
		for(ClientesDTO cp : clientesDAO.getClientes()) {
			
			System.out.println("NOME: " + cp.getNome_cliente_F());
		
		}

	}

}
